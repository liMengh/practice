<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
// var obj = {
//   '2': 3,
//   '3': 4,
//   'length': 2,
//   'splice': Array.prototype.splice,
//   'push': Array.prototype.push
// }
// debugger
// obj.push(1)
// obj.push(2)
// console.log(obj)
var a = 10;

function a() {
  console.log(a);
}

var p1 = Promise.resolve(1);
var p2 = Promise.resolve(p1);
var p3 = new Promise(function(resolve, reject) {
  resolve(1);
});
var p4 = new Promise(function(resolve, reject) {
  resolve(p1);
});

// 宏任务:
// 微任务:

// console.log(p1 === p2);
// console.log(p1 === p3);
// console.log(p1 === p4);
// console.log(p3 === p4);
//
// p4.then(function(value){
//   console.log('p4=' + value);
// });
//
// p2.then(function(value){
//   console.log('p2=' + value);
// })
//
// p1.then(function(value){
//   console.log('p1=' + value);
// })
// 答案在下

// true
// false
// false
// false
// p2=1
// p1=1
// p4=1

function Foo() {
  getName = function() {
    console.log(1);
  };
  a = 3;
  return this;
}

Foo.a = 1;
Foo.getName = function() {
  console.log(2, this);
};
Foo.prototype.getName = function() {
  console.log(3, this);
};
var getName = function() {
  console.log(4);
};

function getName() {
  console.log(5);
}

// Foo.getName(); // 2 Foo
// getName(); //4
// Foo().getName(); // 1
// console.log(Foo.a, window.a);//1,3
// new Foo.getName(); //2 Foo
// new Foo().getName(); //  3 Foo
// new new Foo().getName();
// new new Foo();
console.log('--------------------------------');

function Test(a, b, c) {
  var d = 0;
  this.a = a;
  this.b = b;
  this.c = c;

  function e() {
    d++;
    console.log(d);
  }

  this.f = e;
}

var test1 = new Test();
test1.f();                                                                                       // 1
test1.f();                                                                                       // 2

var test2 = new Test();
test2.f();// 1

console.log('------------------------');

function myTypeof(val) {
  var type = typeof (val);
  var toStr = Object.prototype.toString;
  var map = {
    '[object Object]': 'object-object',
    '[object Array]': 'object-array',
    '[object String]': 'object-string',
    '[object Number]': 'object-number',
    '[object Boolean]': 'object-boolean',
  };

  if (val === null) {
    return 'null';
  } else if (type === 'object') {
    var ret = toStr.call(val);
    return map[ret];
  } else {
    return type;
  }
}

console.log(myTypeof(function() {}));
console.log(myTypeof(1));
console.log(myTypeof([]));
console.log(myTypeof(true));
console.log(myTypeof(null));
console.log(myTypeof(new String('233')));

console.log('**************************');
var a = 10;
var b = a++;
var c = ++a;
var d = --a;
var e = a--;
console.log(a, b, c, d, e);

let colors = []; // 创建一个数组
let count = colors.push('red', 'green'); // 推入两项
console.log(count, 'count'); // 2
console.log(colors, 'colors'); // 2
console.log('***********************************************')

var q = 2;
// 问题1
// (function() {
//   console.log(q);
//   const q = 1;
// })();
    // 问题2
    (function() {
      console.log(q);
      var q = 1;
    })();



</script>
</html>
